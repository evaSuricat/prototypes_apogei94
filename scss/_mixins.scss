// --------------------------------------------------------------------------
// MIXINS - RÃ©utilisables pour tous les composants
// --------------------------------------------------------------------------

/* Responsive breakpoints */
@mixin responsive($breakpoint) {
  @if $breakpoint == tablet {
    @media (max-width: 1024px) { @content; }
  } @else if $breakpoint == mobile {
    @media (max-width: 768px) { @content; }
  } @else if $breakpoint == mobile-sm {
    @media (max-width: 480px) { @content; }
  } @else if $breakpoint == desktop {
    @media (min-width: 1025px) { @content; }
  }
}

/* Focus ring accessible */
@mixin focus-ring($color: var(--color-border-focus)) {
  outline: 2px solid $color;
  outline-offset: 2px;
  box-shadow: var(--shadow-focus);
}

/* Card elevation with transition */
@mixin card-elevation($level: md) {
  transition: all var(--duration-slow) var(--easing-default);
  
  @if $level == sm {
    box-shadow: var(--shadow-sm);
  } @else if $level == md {
    box-shadow: var(--shadow-md);
  } @else if $level == lg {
    box-shadow: var(--shadow-lg);
  } @else if $level == xl {
    box-shadow: var(--shadow-xl);
  }
  
  &:hover {
    transform: translateY(-4px);
    @if $level == sm {
      box-shadow: var(--shadow-md);
    } @else if $level == md {
      box-shadow: var(--shadow-lg);
    } @else if $level == lg {
      box-shadow: var(--shadow-xl);
    }
  }
}

/* Button variants */
@mixin button-variant($type: primary) {
  @if $type == primary {
    background-color: var(--color-bg-brand);
    color: var(--color-text-inverse);
    border-color: var(--color-bg-brand);
    
    &:hover {
      background-color: var(--color-interactive-hover);
      border-color: var(--color-interactive-hover);
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    
    &:active {
      background-color: var(--color-interactive-active);
      border-color: var(--color-interactive-active);
      transform: translateY(0);
    }
  } @else if $type == outline {
    background-color: transparent;
    color: var(--color-text-brand);
    border-color: var(--color-border-brand);
    
    &:hover {
      background-color: var(--color-bg-brand-subtle);
      transform: translateY(-2px);
    }
  } @else if $type == ghost {
    background-color: transparent;
    color: var(--color-text-default);
    border-color: transparent;
    
    &:hover {
      background-color: var(--color-bg-subtle);
      color: var(--color-text-brand);
    }
  } @else if $type == white {
    background-color: var(--color-text-inverse);
    color: var(--color-bg-brand);
    
    &:hover {
      background-color: #f0f0f0;
      color: var(--color-bg-brand);
    }
  } @else if $type == outline-white {
    background-color: transparent;
    color: var(--color-text-inverse);
    border-color: var(--color-text-inverse);
    
    &:hover {
      background-color: rgba(255, 255, 255, 0.1);
      color: var(--color-text-inverse);
    }
  }
}

/* Fluid spacing/typography */
@mixin fluid-space($property, $from, $to) {
  #{$property}: clamp(#{$from}, calc(#{$from} + 1vw), #{$to});
}

/* Screen reader only */
@mixin sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Truncate text */
@mixin truncate($lines: 1) {
  @if $lines == 1 {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  } @else {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
